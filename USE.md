# 使用文档

## 下载运行
```shell script
java -jar wallet_tron_server.jar
```

## 创建TRON地址
```text
curl --location --request GET 'http://127.0.0.1:2367/tron/genTrxKey'

{
    "data": {
        "priKey": "5B7EFEE2DF4694F79E082E1FABFED1055C2747F6550A9EF03F600FD68F529191",
        "address": "TWgHfGi4EE38iUXh3QVLXj2cyAb5nQbdSP"
    },
    "code": 200,
    "message": "success",
    "extendObj": null,
    "success": true
}
```
## 创建交易
#### 创建交易用到的参数
```java
@Data
@NoArgsConstructor
@AllArgsConstructor
@Builder
public class CreateTransactionParam {
    private String from; // 发送者地址
    private String to; // 接收者地址
    private Long amount; // 转账数量
    private String currency; // 资产名称 TRX, 
    private String tokenAddress; // 如果是TRC20 这里传合约地址，如果不是TRC20 这里不要传值
    private String assetName; // 资产名称 如果是TRC10 这里传资产名称，如果不是不要传值
    private String memo; // 需要写到链上的数据
}
```
```text
curl --location --request POST 'http://127.0.0.1:2367/tron/createTransaction' \
--header 'Content-Type: application/json' \
--data-raw '{"amount":100,"currency":"TRX","from":"TY222tTvWPuxEv58bWmSVg6r695BCZveer","memo":"test_add_0001","to":"TLLA27KNJuU9EFViiCkruVBTrfwhiyuUYL"}'

{
    "data": {
        "txId": "7d5ce8bba3ca63fd5a8217aae9c1a025ac44344cf97a988b1bfed9619d52b7cb",
        "unSignTxStr": "0AA0010A02B29B189BE5E20E2208CE206C55EE55B10040B0B6DDE29F2F520D746573745F6164645F303030315A65080112610A2D747970652E676F6F676C65617069732E636F6D2F70726F746F636F6C2E5472616E73666572436F6E747261637412300A1541F1DADBEF0E07D4B30D5C4BF0CEBCFE52BE4F26A912154171A780FE891C036EC8044B8FA13EAF6C66524872186462077363726970747370B8B3C8D19F2F"
    },
    "code": 200,
    "message": "success",
    "extendObj": null,
    "success": true
}
```
## 交易签名
* 这个过程可以在离线的机器上进行
```text
curl --location --request POST 'http://127.0.0.1:2367/tron/signTx' \
--header 'Content-Type: application/json' \
--data-raw '{"priKey":"your_pri_key","unSignTx":"0AA0010A02B29B189BE5E20E2208CE206C55EE55B10040B0B6DDE29F2F520D746573745F6164645F303030315A65080112610A2D747970652E676F6F676C65617069732E636F6D2F70726F746F636F6C2E5472616E73666572436F6E747261637412300A1541F1DADBEF0E07D4B30D5C4BF0CEBCFE52BE4F26A912154171A780FE891C036EC8044B8FA13EAF6C66524872186462077363726970747370B8B3C8D19F2F"}'

{
    "data": "0AA0010A02B29B189BE5E20E2208CE206C55EE55B10040B0B6DDE29F2F520D746573745F6164645F303030315A65080112610A2D747970652E676F6F676C65617069732E636F6D2F70726F746F636F6C2E5472616E73666572436F6E747261637412300A1541F1DADBEF0E07D4B30D5C4BF0CEBCFE52BE4F26A912154171A780FE891C036EC8044B8FA13EAF6C66524872186462077363726970747370B8B3C8D19F2F1241C63410C8CAAD8696A42933A0486104D563044916E624C97AD5E0E3415CCA08927A53ECFAA2C553C174BC19D01990865408F5EEFAE4FD26706580A84516FCA25600",
    "code": 200,
    "message": "success",
    "extendObj": null,
    "success": true
}
```
## 交易广播
```text
curl --location --request POST 'http://127.0.0.1:2367/tron/broadCast' \
--header 'Content-Type: application/json' \
--data-raw '{"signStr":"0AA0010A02B29B189BE5E20E2208CE206C55EE55B10040B0B6DDE29F2F520D746573745F6164645F303030315A65080112610A2D747970652E676F6F676C65617069732E636F6D2F70726F746F636F6C2E5472616E73666572436F6E747261637412300A1541F1DADBEF0E07D4B30D5C4BF0CEBCFE52BE4F26A912154171A780FE891C036EC8044B8FA13EAF6C66524872186462077363726970747370B8B3C8D19F2F1241C63410C8CAAD8696A42933A0486104D563044916E624C97AD5E0E3415CCA08927A53ECFAA2C553C174BC19D01990865408F5EEFAE4FD26706580A84516FCA25600"}'

{
    "data": null,
    "code": 200,
    "message": "success",
    "extendObj": null,
    "success": true
}
```

## 链上交易查询
* [7d5ce8bba3ca63fd5a8217aae9c1a025ac44344cf97a988b1bfed9619d52b7cb](https://tronscan.io/#/transaction/7d5ce8bba3ca63fd5a8217aae9c1a025ac44344cf97a988b1bfed9619d52b7cb)